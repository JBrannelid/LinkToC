import{r as a}from"./vendor-router-BURTDQSf.js";import{b as d}from"./index-B8Zmxeox.js";import E from"./horseService-WFSULxac.js";const y=(e,r="/images/horeImagePlaceholder.webp")=>e?.HorseImageUrl||r;function S(e){return`Image of horse named ${e.name}`.trim()}function O(e){if(!e)return"Age unknown";try{const r=new Date(e);if(isNaN(r.getTime()))return"Invalid birthdate";const t=new Date;let s=t.getFullYear()-r.getFullYear();return t.getMonth()>r.getMonth()||t.getMonth()===r.getMonth()&&t.getDate()>=r.getDate()||s--,`${s} ${s===1?"year":"years"} old`}catch(r){return console.error("Error calculating horse age:",r),"Age calculation error"}}const c={OWNER:0,RIDER:1,HELPER:2};function P(e){switch(e){case c.OWNER:return"Owner";case c.RIDER:return"Rider";case c.HELPER:return"Helper";default:return"Unknown connection"}}const w=e=>{const[r,t]=a.useState(null),[s,n]=a.useState(!0),[f,l]=a.useState(null),[g,h]=a.useState("fetch"),i=a.useCallback(async u=>{if(!u){l("Horse ID is required"),n(!1);return}n(!0),h("fetch"),l(null);try{const o=await E.getHorseProfile(u);o&&(o.isSuccess||o.statusCode===200)?t(o.value):l(o?.message||"Failed to fetch horse profile")}catch(o){l(o.message||"Failed to fetch horse profile")}finally{n(!1)}},[]);a.useEffect(()=>{e?i(e):(t(null),n(!1),l(null))},[e,i]);const m=d(s,g);return{horse:r?.horse||null,horseProfile:r,loading:s,error:f,loadingState:m,fetchHorseProfile:i}};export{y as a,S as b,O as f,P as g,w as u};
