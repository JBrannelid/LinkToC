const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/form-components-Dej4WxZX.js","assets/vendor-react-a0IVf7AC.js"])))=>i.map(i=>d[i]);
import{j as e,u as s,r,d as l}from"./vendor-react-a0IVf7AC.js";import{m as i,g as a,u as t,P as n,b as o,R as d,a as c,M as m,F as u,c as x,d as h,_ as p,e as g,f,h as b,i as y,j as v}from"./form-components-Dej4WxZX.js";const j=({className:s="",children:r,id:l})=>e.jsx("div",{className:`px-6 py-4 text-gray-800 ${s}`,id:l,children:r}),N=({id:s,className:r="",children:l,ariaLabel:a,ariaLabelledby:t,ariaDescribedby:n,onClick:o})=>e.jsx(i.div,{id:s,role:"article","aria-label":a,"aria-labelledby":t,"aria-describedby":n,className:`border border-primary rounded-lg shadow-md overflow-hidden max-w-md bg-white ${r}`,onClick:o,whileHover:o?{y:-2,scale:1.02,boxShadow:"0 8px 25px rgba(0,0,0,0.1)"}:{},whileTap:o?{scale:.98}:{},transition:{duration:.2},children:l}),w=({className:s="",children:r,id:l,level:i=3})=>{const a=`h${i}`;return e.jsx(a,{className:`text-xl font-bold ${s}`,id:l,children:r})};var C,k,$,O,I,S={exports:{}};function L(){if(k)return C;k=1;return C="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function P(){if(O)return $;O=1;var e=L();function s(){}function r(){}return r.resetWarningCache=s,$=function(){function l(s,r,l,i,a,t){if(t!==e){var n=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}function i(){return l}l.isRequired=l;var a={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:i,element:l,elementType:l,instanceOf:i,node:l,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:s};return a.PropTypes=a,a}}function H(){return I||(I=1,S.exports=P()()),S.exports}const R=a(H()),T=({size:s,className:r,color:l="currentColor"})=>e.jsx("svg",{width:s,height:s,className:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.706 0.290 C 7.484 0.362,7.356 0.490,7.294 0.699 C 7.259 0.816,7.253 1.088,7.253 2.508 C 7.253 4.389,7.251 4.365,7.443 4.557 C 7.700 4.813,8.300 4.813,8.557 4.557 C 8.749 4.365,8.747 4.389,8.747 2.508 C 8.747 0.688,8.744 0.656,8.596 0.480 C 8.472 0.333,8.339 0.284,8.040 0.276 C 7.893 0.272,7.743 0.278,7.706 0.290 M2.753 2.266 C 2.595 2.338,2.362 2.566,2.281 2.728 C 2.197 2.897,2.193 3.085,2.269 3.253 C 2.343 3.418,4.667 5.750,4.850 5.843 C 5.109 5.976,5.375 5.911,5.643 5.649 C 5.907 5.391,5.977 5.111,5.843 4.850 C 5.750 4.667,3.418 2.343,3.253 2.269 C 3.101 2.200,2.901 2.199,2.753 2.266 M12.853 2.282 C 12.730 2.339,12.520 2.536,11.518 3.541 C 10.597 4.464,10.316 4.762,10.271 4.860 C 10.195 5.025,10.196 5.216,10.272 5.378 C 10.342 5.528,10.572 5.764,10.727 5.845 C 10.884 5.927,11.117 5.926,11.280 5.843 C 11.447 5.757,13.757 3.447,13.843 3.280 C 13.926 3.118,13.927 2.884,13.846 2.729 C 13.764 2.572,13.552 2.364,13.392 2.283 C 13.213 2.192,13.048 2.192,12.853 2.282 M0.699 7.292 C 0.404 7.385,0.258 7.620,0.258 7.999 C 0.259 8.386,0.403 8.618,0.698 8.706 C 0.816 8.741,1.079 8.747,2.508 8.747 C 3.997 8.747,4.196 8.742,4.318 8.702 C 4.498 8.644,4.644 8.498,4.702 8.318 C 4.788 8.053,4.745 7.677,4.608 7.491 C 4.578 7.451,4.492 7.384,4.417 7.343 L 4.280 7.267 2.547 7.261 C 1.152 7.257,0.791 7.263,0.699 7.292 M11.745 7.278 C 11.622 7.308,11.452 7.411,11.392 7.492 C 11.255 7.677,11.212 8.053,11.298 8.318 C 11.356 8.498,11.502 8.644,11.682 8.702 C 11.804 8.742,12.003 8.747,13.492 8.747 C 14.921 8.747,15.184 8.741,15.302 8.706 C 15.597 8.618,15.741 8.386,15.742 7.999 C 15.742 7.614,15.595 7.383,15.290 7.291 C 15.187 7.260,14.864 7.254,13.496 7.256 C 12.578 7.258,11.790 7.268,11.745 7.278 M4.853 10.282 C 4.730 10.339,4.520 10.536,3.518 11.541 C 2.597 12.464,2.316 12.762,2.271 12.860 C 2.195 13.025,2.196 13.216,2.272 13.378 C 2.342 13.528,2.572 13.764,2.727 13.845 C 2.884 13.927,3.117 13.926,3.280 13.843 C 3.447 13.757,5.757 11.447,5.843 11.280 C 5.926 11.118,5.927 10.884,5.846 10.729 C 5.764 10.572,5.552 10.364,5.392 10.283 C 5.213 10.192,5.048 10.192,4.853 10.282 M10.753 10.266 C 10.595 10.338,10.362 10.566,10.281 10.728 C 10.197 10.897,10.193 11.085,10.269 11.253 C 10.343 11.418,12.667 13.750,12.850 13.843 C 13.109 13.976,13.375 13.911,13.643 13.649 C 13.907 13.391,13.977 13.111,13.843 12.850 C 13.750 12.667,11.418 10.343,11.253 10.269 C 11.101 10.200,10.901 10.199,10.753 10.266 M7.745 11.277 C 7.620 11.309,7.451 11.412,7.392 11.492 C 7.254 11.678,7.253 11.691,7.253 13.489 C 7.253 14.921,7.259 15.184,7.294 15.302 C 7.382 15.597,7.615 15.741,8.000 15.741 C 8.385 15.741,8.618 15.597,8.706 15.302 C 8.768 15.090,8.767 11.875,8.704 11.690 C 8.644 11.514,8.575 11.430,8.420 11.346 C 8.310 11.286,8.246 11.271,8.057 11.264 C 7.930 11.259,7.790 11.265,7.745 11.277",stroke:"none",fillRule:"evenodd",fill:l})}),U=({size:s="medium",className:r="",withMargin:l=!0})=>{const a="small"===s?16:"large"===s?24:20,t=l?"mr-5":"";return e.jsx(i.span,{className:`${t} ${r}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(T,{size:a,color:"currentColor"})})};U.propTypes={size:R.oneOf(["small","medium","large"]),className:R.string,withMargin:R.bool};const M=({type:s="primary",disabled:r=!1,loading:l=!1,size:a="medium",className:t="",onClick:n,htmlType:o="button",children:d,variant:c="default",...m})=>{const u={primary:"bg-primary cursor-pointer text-white focus:ring-primary focus:outline-none focus:ring-3",secondary:"bg-white cursor-pointer border border-primary focus:ring-primary-light focus:outline-none focus:ring-3",danger:"bg-error-500 cursor-pointer text-white focus:ring-error-400 focus:outline-none focus:ring-3",warning:"bg-warning-300 cursor-pointer text-gray-800 focus:ring-warning-300 focus:outline-none focus:ring-3",icon:"bg-transparent border-none shadow-none",transparent:"bg-light/0"},x={small:"py-1 px-3 text-sm",medium:"py-2 px-4 text-base",large:"py-3 px-6 text-lg"},h={default:"",icon:"rounded-full p-2"},p={small:"p-1 w-8 h-8",medium:"p-2 w-10 h-10",large:"p-3 w-12 h-12"},g=`\n    flex items-center justify-center transition-colors drop-shadow-md rounded-lg\n    ${u["icon"===c?"icon":s]||u.primary}\n    ${"icon"===c?p[a]||p.medium:x[a]||x.medium}\n    ${h[c]||h.default}\n    font-medium\n    ${r||l?"opacity-50 cursor-not-allowed":""}\n    ${t}\n  `;return e.jsxs(i.button,{type:o,className:g,disabled:r||l,onClick:e=>{r||l?e.preventDefault():null==n||n(e)},whileHover:{scale:r||l?1:1.02},whileTap:{scale:r||l?1:.98},transition:{duration:.1},"aria-disabled":r||l,"aria-busy":l,...m,children:[l&&e.jsx(U,{size:a,withMargin:"icon"!==c}),d]})};M.propTypes={type:R.oneOf(["primary","secondary","danger","warning","transparent"]),disabled:R.bool,loading:R.bool,size:R.oneOf(["small","medium","large"]),className:R.string,onClick:R.func,htmlType:R.oneOf(["button","submit","reset"]),variant:R.oneOf(["default","icon"]),children:R.node.isRequired};const z=()=>e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(U,{size:"large",className:"text-primary"})}),B=({isOpen:s,onClose:r,onConfirm:l,loading:a=!1,title:t,confirmButtonText:n="Yes",cancelButtonText:o="No",confirmButtonType:d="danger",cancelButtonType:c="secondary",icon:m=null,children:u})=>s?e.jsx(i.div,{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-30",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:e.jsxs(i.div,{className:"bg-white rounded-lg w-9/10 p-7 shadow-lg border border-light max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},children:[m&&e.jsx("div",{className:"flex justify-center mb-4",children:m}),e.jsx("h3",{className:"text-2xl text-center mb-4",children:t}),u&&e.jsx("div",{className:"mb-4 text-center text-gray-600",children:u}),e.jsx(M,{type:d,className:"w-full mb-3",onClick:l,loading:a,children:n}),e.jsx(M,{type:c,className:"w-full border-none",onClick:r,disabled:a,children:o})]})}):null,E=({size:s=24,color:r="currentColor",className:l="",strokeWidth:i=1.5,...a})=>{const t={width:`${s}px`,height:`${s}px`,minWidth:`${s}px`,minHeight:`${s}px`,display:"inline-block",flexShrink:0};return e.jsxs("svg",{style:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:l,...a,children:[e.jsx("path",{d:"M12 21C15.5 17.4 19 14.1764 19 10.2C19 6.22355 15.866 3 12 3C8.13401 3 5 6.22355 5 10.2C5 14.1764 8.5 17.4 12 21Z",strokeWidth:i,fill:r}),e.jsx("path",{d:"M12 12C13.1046 12 14 11.1046 14 10C14 8.89543 13.1046 8 12 8C10.8954 8 10 8.89543 10 10C10 11.1046 10.8954 12 12 12Z",strokeWidth:i,fill:r})]})},_=({directionsUrl:s,distance:r,locationName:l,className:i="",iconSize:a=14,showLabel:t=!0})=>{const n=void 0!==r?`${r.toFixed(1)} km ${t?"from you":""}`:"";return e.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:`text-xs font-semibold text-primary truncate flex items-center gap-1 hover:underline ${i}`,"aria-label":`Get directions to ${l||"location"}${r?`, ${r.toFixed(1)} km away`:""}`,onClick:e=>e.stopPropagation(),children:[e.jsx(E,{size:a}),n]})},D=({latitude:s,longitude:r,locationName:l,distance:i,...a})=>{const{userLocation:n,calculateDistance:o,getDirectionsUrl:d}=t();if(!s||!r)return null;const c=void 0!==i?i:n?o(n.latitude,n.longitude,s,r):void 0,m=d?d(s,r):`https://www.google.com/maps/dir/?api=1&destination=${s},${r}&travelmode=driving`;return e.jsx(_,{directionsUrl:m,distance:c,locationName:l,...a})},W=(e,s="/src/assets/images/horeImagePlaceholder.webp")=>(null==e?void 0:e.HorseImageUrl)||s;function F(e){return`Image of horse named ${e.name}`.trim()}function V(e){if(!e)return"Age unknown";try{const s=new Date(e);if(isNaN(s.getTime()))return"Invalid birthdate";const r=new Date;let l=r.getFullYear()-s.getFullYear();return r.getMonth()>s.getMonth()||r.getMonth()===s.getMonth()&&r.getDate()>=s.getDate()||l--,`${l} ${1===l?"year":"years"} old`}catch(s){return"Age calculation error"}}const A=0,q=1,Y=2;const Z=({horseProfile:r})=>{const l=s(),a=(null==r?void 0:r.userHorseRoles)||[];return!r?e.jsxs("div",{className:"flex justify-center items-center p-4",children:[e.jsx(U,{size:"medium",className:"text-gray"}),e.jsx("span",{className:"ml-2",children:"Loading horse's owners..."})]}):a&&0!==a.length?e.jsx(e.Fragment,{children:e.jsxs(i.div,{className:"grid grid-cols-1 gap-4 px-10 sm:grid-cols-2 sm:gap-15 lg:grid-cols-3 lg:gap-6",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[" ",a.map(((s,r)=>{if(!s)return null;const a=s.user||{},t=`${a.firstName||""} ${a.lastName||""}`.trim()||"Unnamed User",c=function(e){switch(e){case A:return"Owner";case q:return"Rider";case Y:return"Helper";default:return"Unknown connection"}}(s.userRole);return e.jsxs(i.div,{className:"border border-primary rounded-lg overflow-hidden cursor-pointer mx-auto max-w-xs bg-gradient-to-b from-primary-light to-white",onClick:()=>{var e;(e=a.id)&&l(o(d.USER_PROFILE,{userId:e}))},variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{y:-4,scale:1.02,boxShadow:"0 8px 25px rgba(0,0,0,0.12)"},whileTap:{scale:.98},transition:{duration:.2},children:[e.jsx("div",{className:"flex justify-center items-center overflow-hidden ",children:e.jsx(n,{user:a,className:"scale-70 w-35 h-35 sm:w-45 sm:h-45 md:w-40 md:h-40 lg:w-48 lg:h-48 object-cover border-2 border-primary rounded-full bg-background",size:"rounded",alt:`User ${t}`})}),e.jsxs("div",{className:"p-3 text-center",children:[e.jsx("h3",{className:"font-bold",children:t}),e.jsxs("p",{className:" text-sm",children:["Role: ",c||"Connected",e.jsx("br",{}),a.phoneNumber&&`Phone: ${a.phoneNumber}`]})]})]},`user-${a.id||r}`)}))]})}):e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-center text-gray py-4",children:"No owners registered for this horse"})})},G=({isOpen:s,onClose:i,fieldName:a,fieldLabel:t,initialValue:n="",userId:o,multiline:d=!1,userData:f,refreshUserData:b,isHorse:y=!1,isCurrentUser:v=!1})=>{const{user:j}=c(),[N,w]=r.useState(!1),[C,k]=r.useState(null),$=l({defaultValues:{[a]:n}});r.useEffect((()=>{s&&!v&&String(null==j?void 0:j.id)!==String(o)&&(k({type:"error",text:"You don't have permission to edit this profile"}),setTimeout((()=>i()),2e3))}),[s,y,null==j?void 0:j.id,o,i,v]);return s?e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-30 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md",children:[e.jsx(m,{title:`Edit ${t}`,showCloseBtn:!0,onCloseClick:i}),e.jsx("div",{className:"p-4",children:e.jsxs(u,{methods:$,onSubmit:async e=>{if(!v&&String(null==j?void 0:j.id)!==String(o))return k({type:"error",text:"You don't have permission to edit this profile"}),setTimeout((()=>i()),2e3),{success:!1};try{let l;if(w(!0),k(null),y)try{const s=(await p((()=>import("./form-components-Dej4WxZX.js").then((e=>e.ab))),__vite__mapDeps([0,1]))).default,r=e=>{if(!e)return null;const s=e.toString().replace(/[^\d]/g,"");return s?parseInt(s,10):null},i={id:o,name:(null==f?void 0:f.name)||"",breed:(null==f?void 0:f.breed)||"",color:(null==f?void 0:f.color)||"",age:(null==f?void 0:f.age)||null,description:(null==f?void 0:f.description)||"",bio:(null==f?void 0:f.bio)||"",coreInformation:(null==f?void 0:f.coreInformation)||"",weight:r(null==f?void 0:f.weight),height:r(null==f?void 0:f.height),currentBox:r((null==f?void 0:f.currentBox)||(null==f?void 0:f.stablePlace)||"")};i[a]="height"===a||"weight"===a||"currentBox"===a?r(e[a]):e[a],l=await s.updateHorse(i,o)}catch(s){throw new Error("Could not update horse: "+s.message)}else{const s=await p((()=>import("./form-components-Dej4WxZX.js").then((e=>e.ac))),__vite__mapDeps([0,1])).then((e=>e.default)),r={id:o,firstName:(null==f?void 0:f.firstName)||"",lastName:(null==f?void 0:f.lastName)||"",email:(null==f?void 0:f.email)||"",phoneNumber:(null==f?void 0:f.phoneNumber)||"",emergencyContact:(null==f?void 0:f.emergencyContact)||"",coreInformation:(null==f?void 0:f.coreInformation)||"",description:(null==f?void 0:f.description)||"",[a]:e[a]};l=await s.update(r)}if(l.success||l.isSuccess||200===l.statusCode){if(k(g("Information updated successfully")),"function"==typeof b)try{await b()}catch(r){}return setTimeout((()=>{i()}),2e3),{success:!0}}throw new Error((null==l?void 0:l.message)||"Update failed")}catch(l){return k({type:"error",text:l.message||"Failed to update information"}),{success:!1,error:l.message}}finally{w(!1)}},children:[d?e.jsx(x,{name:a,type:"textarea",label:t,rows:5,validation:{required:`${t} is required`}}):e.jsx(x,{name:a,label:t,validation:{required:`${t} is required`}}),C&&e.jsx(h,{message:C,className:"mt-4"}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-4",children:[e.jsx(M,{type:"primary",htmlType:"submit",loading:N,disabled:N,className:"w-full",children:N?"Saving...":"Save"}),e.jsx(M,{type:"secondary",onClick:i,disabled:N,className:"w-full",children:"Cancel"})]})]})})]})}):null},J=({horse:s,horseProfile:l,activeTab:i,forceRefresh:a})=>{var t;const{user:n}=c(),[o,d]=r.useState({isOpen:!1,field:"",label:"",value:"",multiline:!1}),m=(null==l?void 0:l.horse)||s,u=null==m?void 0:m.id,x=null==(t=null==l?void 0:l.userHorseRoles)?void 0:t.some((e=>{var s;return String(null==(s=e.user)?void 0:s.id)===String(null==n?void 0:n.id)})),h=(e,s,r,l=!1)=>{d({isOpen:!0,field:e,label:s,value:r,multiline:l})},p=()=>{switch(i){case"info":default:return e.jsx(K,{horse:m,horseProfile:l,openEditModal:h,hasHorseRole:x});case"owners":return e.jsx(Z,{horseId:u,horseProfile:l})}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block lg:px-40 xl:px-60 py-4",children:p()}),e.jsx("div",{className:"py-2 lg:hidden",children:p()}),e.jsx(G,{isOpen:o.isOpen,onClose:()=>{d({isOpen:!1,field:"",label:"",value:"",multiline:!1})},fieldName:o.field,fieldLabel:o.label,initialValue:o.value,userId:u,multiline:o.multiline,userData:m,refreshUserData:a,isHorse:!0,isCurrentUser:x})]})},K=({horse:s,openEditModal:r,hasHorseRole:l})=>{const i=(null==s?void 0:s.coreInformation)||"No important information added yet",a=(null==s?void 0:s.bio)||(null==s?void 0:s.description)||(null==s?void 0:s.about)||"Time to write your legend! ✍️";return e.jsxs("div",{className:"space-y-4 px-10",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-normal mr-2 text-start text-xl",children:"Important "})}),e.jsx("div",{className:"bg-primary-light p-4 rounded-lg shadow-lg w-full cursor-pointer hover:border hover:border-primary",onClick:l?()=>r("coreInformation","Important info",i):void 0,children:e.jsx("p",{className:"font-semibold",children:i})})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg cursor-pointer hover:border hover:border-primary",onClick:l?()=>r("description","About Horse",a,!0):void 0,children:e.jsx("p",{className:"whitespace-pre-line",children:a})})]})},Q=({horse:s,horseProfile:l,forceRefresh:i})=>{var a;const{user:t}=c(),[n,o]=r.useState({isOpen:!1,field:"",label:"",value:"",multiline:!1}),d=(null==l?void 0:l.horse)||s,m=d.name||"Unnamed Horse",u=W(d),x=d.color||"Unknown color",h=V(d.age),p=d.breed||"Unknown breed",g=d.currentBox||d.stablePlace||"",b=d.weight||"",y=d.height||"",v=null==(a=null==l?void 0:l.userHorseRoles)?void 0:a.some((e=>{var s;return String(null==(s=e.user)?void 0:s.id)===String(null==t?void 0:t.id)})),j=(e,s,r,l=!1)=>{o({isOpen:!0,field:e,label:s,value:r,multiline:l})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden lg:block lg:px-40 xl:px-60 pt-8",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex flex-col relative group",children:[e.jsx("h1",{className:"text-3xl font-heading font-semibold",children:m}),e.jsx("p",{className:"text-sm text-gray",children:h}),e.jsxs("p",{className:"text-sm text-gray",children:["Breed - ",p]}),e.jsxs("p",{className:"text-sm text-gray",children:["Color - ",x]})]}),e.jsxs("div",{className:"flex flex-row gap-2 mr-5 mt-10",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs(M,{type:"secondary",className:"rounded-lg !border-primary flex flex-col max-h-20 min-h-15 min-w-25","aria-label":"Stable Place",children:[e.jsx("span",{className:"text-primary mb-1",children:"Box"}),e.jsx("span",{className:"text-xs",children:g})]}),v&&e.jsx("button",{className:"absolute -right-2 -top-2 transition-opacity bg-primary-light rounded-full p-1",onClick:()=>j("currentBox","Box Number",d.currentBox||d.stablePlace||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs(M,{type:"secondary",className:"rounded-lg !border-primary flex flex-col max-h-20 min-h-15 min-w-25","aria-label":"Weight",children:[e.jsx("span",{className:"text-primary mb-1",children:"Weight"}),e.jsxs("span",{className:"text-xs",children:[b,"kg"]})]}),v&&e.jsx("button",{className:"absolute -right-2 -top-2 transition-opacity bg-primary-light rounded-full p-1",onClick:()=>j("weight","Weight",d.weight||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs(M,{type:"secondary",className:"rounded-lg !border-primary flex flex-col max-h-20 min-h-15 min-w-25","aria-label":"Height",children:[e.jsx("span",{className:"text-primary mb-1",children:"Height"}),e.jsxs("span",{className:"text-xs",children:[y,"cm"]})]}),v&&e.jsx("button",{className:"absolute -right-2 -top-2 transition-opacity bg-primary-light rounded-full p-1",onClick:()=>j("height","Height",d.height||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]})]})]}),e.jsx("div",{className:"relative mt-4 border-2 border-primary rounded-lg overflow-hidden",children:e.jsx("div",{className:"w-full h-55 relative",children:e.jsx("img",{src:u,alt:`Image of ${m}`,className:"w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"lg:hidden relative",children:[e.jsx("div",{className:"w-full sm:h-100 h-90 md:h-130",children:e.jsx("img",{src:u,alt:`Image of ${m}`,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-6 bg-background rounded-t-3xl -mt-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col gap-1 relative group",children:[e.jsx("h1",{className:"text-3xl font-heading font-semibold pr-8",children:m}),e.jsx("p",{className:"text-sm text-gray",children:h}),e.jsx("p",{className:"text-sm text-gray",children:p}),e.jsxs("p",{className:"text-sm text-gray",children:["Color: ",x]})]}),e.jsxs("div",{className:"flex justify-start gap-2 mt-6 md:justify-center md:px-20",children:[e.jsxs("div",{className:"flex flex-col items-center w-full md:w-9/10 relative group",children:[e.jsx(M,{type:"secondary",className:"w-full h-15 md:h-17 !bg-primary-light !border-primary rounded-xl","aria-label":"Stable Place",children:e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx("p",{className:"text-primary",children:"Box"}),e.jsx("p",{className:"mt-1 text-sm text-center",children:g})]})}),v&&e.jsx("button",{className:"absolute -right-1 -top-1 transition-opacity bg-white rounded-full p-1",onClick:()=>j("currentBox","Box Number",d.currentBox||d.stablePlace||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"flex flex-col items-center w-full md:w-9/10 relative group",children:[e.jsx(M,{type:"secondary",className:"w-full h-15 md:h-17 !bg-primary-light !border-primary rounded-xl","aria-label":"Weight",children:e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx("p",{className:"text-primary",children:"Weight"}),e.jsxs("p",{className:"mt-1 text-sm text-center",children:[b,"kg"]})]})}),v&&e.jsx("button",{className:"absolute -right-1 -top-1 transition-opacity bg-white rounded-full p-1",onClick:()=>j("weight","Weight",d.weight||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"flex flex-col items-center w-full md:w-9/10 relative group",children:[e.jsx(M,{type:"secondary",className:"w-full h-15 md:h-17 !bg-primary-light !border-primary rounded-xl","aria-label":"Height",children:e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx("p",{className:"text-primary",children:"Height"}),e.jsxs("p",{className:"mt-1 text-sm text-center",children:[" ",y,"cm"]})]})}),v&&e.jsx("button",{className:"absolute -right-1 -top-1 transition-opacity bg-white rounded-full p-1",onClick:()=>j("height","Height",d.height||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]})]})]})]}),e.jsx(G,{isOpen:n.isOpen,onClose:()=>{o({isOpen:!1,field:"",label:"",value:"",multiline:!1})},fieldName:n.field,fieldLabel:n.label,initialValue:n.value,userId:null==d?void 0:d.id,multiline:n.multiline,userData:d,refreshUserData:i,isHorse:!0,isCurrentUser:v})]})},X=({activeTab:s,onChange:r})=>e.jsx("div",{className:"px-1 md:px-6 py-2 mb-4",children:e.jsxs("div",{className:"flex justify-evenly px-0 sm:px-10 md:px-20 relative",children:[e.jsxs("button",{className:"px-4 py-1 text-lg lg:text-xl lg:py-2 font-semibold relative "+("info"===s?"text-primary":"text-gray"),onClick:()=>r("info"),children:["About","info"===s&&e.jsx(i.div,{layoutId:"horseUnderline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),e.jsxs("button",{className:"px-4 py-1 text-lg lg:text-xl lg:py-2 font-semibold relative "+("owners"===s?"text-primary":"text-gray"),onClick:()=>r("owners"),children:["Riders","owners"===s&&e.jsx(i.div,{layoutId:"horseUnderline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]})}),ee=({size:s=24,color:r="currentColor",className:l="",strokeWidth:i=1.5,...a})=>{const t=s||24,n=`${l}`;return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:i,strokeLinecap:"round",strokeLinejoin:"round",...a,children:e.jsx("path",{d:"M12.0015 2C6.36858 2 2 6.12644 2 11.7011C2 14.6169 3.1954 17.1356 5.14023 18.8751C5.30192 19.0215 5.40077 19.2238 5.40843 19.4444L5.4636 21.2245C5.46756 21.3554 5.50365 21.4833 5.56868 21.5969C5.63371 21.7106 5.7257 21.8065 5.83653 21.8762C5.94736 21.9459 6.07364 21.9873 6.20423 21.9968C6.33483 22.0062 6.46575 21.9834 6.58544 21.9303L8.57088 21.0552C8.74023 20.9816 8.92797 20.9671 9.10421 21.0146C10.0161 21.2651 10.987 21.4008 11.9985 21.4008C17.6314 21.4008 22 17.2751 22 11.7004C22 6.12644 17.6322 2 12.0015 2ZM17.2529 9.57854L14.7487 13.5502C14.6544 13.6997 14.5302 13.8281 14.3839 13.9272C14.2376 14.0263 14.0724 14.0941 13.8986 14.1262C13.7248 14.1583 13.5463 14.154 13.3742 14.1137C13.2021 14.0734 13.0403 13.9979 12.8989 13.892L10.9065 12.3992C10.8178 12.3329 10.71 12.2971 10.5992 12.2971C10.4885 12.2971 10.3807 12.3329 10.292 12.3992L7.60383 14.4398C7.24751 14.7119 6.77625 14.282 7.01533 13.9034L9.51954 9.9318C9.61378 9.7823 9.73796 9.65394 9.88427 9.55481C10.0306 9.45568 10.1958 9.38793 10.3696 9.35582C10.5434 9.32371 10.7219 9.32795 10.894 9.36826C11.0661 9.40857 11.2279 9.48408 11.3693 9.59004L13.3617 11.0828C13.4504 11.149 13.5582 11.1849 13.669 11.1849C13.7797 11.1849 13.8875 11.149 13.9762 11.0828L16.6644 9.04215C17.0245 8.76628 17.4958 9.19617 17.2529 9.57854Z",fill:"currentColor"})})},se=({className:s="",children:r,id:l})=>e.jsx("div",{className:`text-gray-600 mt-1 ${s}`,id:l,children:r}),re=({userProfile:r})=>{const l=s(),a=e=>(null==e?void 0:e.imageUrl)||"/src/assets/images/horeImagePlaceholder.webp",t=(null==r?void 0:r.userHorseRoles)||[];return!r?e.jsxs("div",{className:"flex justify-center items-center p-4",children:[e.jsx(U,{size:"medium",className:"text-gray"}),e.jsx("span",{className:"ml-2",children:"Loading user's horses..."})]}):0===t.length?e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-center text-gray py-4",children:"No horses available for this user"})}):e.jsx(e.Fragment,{children:e.jsxs(i.div,{className:"grid grid-cols-1 gap-4 px-10 sm:grid-cols-2 sm:gap-15 lg:grid-cols-3 lg:gap-6",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[" ",t.map((s=>{const r=s.horse,t=(null==r?void 0:r.name)||"Unnamed Horse",n=(null==r?void 0:r.color)||"Unknown",c=s.userRole;return e.jsxs(i.div,{className:"border border-primary rounded-lg overflow-hidden cursor-pointer",onClick:()=>{return e=r.id,void l(o(d.HORSE_PROFILE,{horseId:e}));var e},variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{y:-4,scale:1.02,boxShadow:"0 8px 25px rgba(0,0,0,0.12)"},whileTap:{scale:.98},transition:{duration:.2},children:[e.jsx("div",{className:"w-full h-50",children:e.jsx("img",{src:a(r),alt:`Horse ${t}`,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-bold",children:t}),e.jsxs("p",{className:"text-gray text-sm",children:["Color: ",n,e.jsx("br",{}),"Role:"," ",0===c?"Owner":1===c?"Rider":"Caretaker"]})]})]},`horse-${r.id}`)}))]})})},le=({user:s,userProfile:l,activeTab:i,forceRefresh:a})=>{var t;const{user:n}=c(),[o,d]=r.useState({isOpen:!1,field:"",label:"",value:"",multiline:!1}),m=(null==(t=null==l?void 0:l.userStableRole)?void 0:t.user)||s,u=(null==m?void 0:m.userId)||(null==m?void 0:m.id),x=String(null==n?void 0:n.id)===String(u),h=(e,s,r,l=!1)=>{d({isOpen:!0,field:e,label:s,value:r,multiline:l})},p=()=>{switch(i){case"info":default:return e.jsx(ie,{user:m,userProfile:l,openEditModal:h,isCurrentUser:x});case"horses":return e.jsx(re,{userId:u,userProfile:l})}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block lg:px-40 xl:px-60 py-4",children:p()}),e.jsx("div",{className:"py-2 lg:hidden",children:p()}),e.jsx(G,{isOpen:o.isOpen,onClose:()=>{d({isOpen:!1,field:"",label:"",value:"",multiline:!1})},fieldName:o.field,fieldLabel:o.label,initialValue:o.value,userId:u,multiline:o.multiline,userData:m,isCurrentUser:x,refreshUserData:a})]})},ie=({user:s,openEditModal:r,isCurrentUser:l})=>{const i=(null==s?void 0:s.description)||"📜 No current bio",a=(null==s?void 0:s.coreInformation)||"🤫 This user's keeping it mysterious...";return e.jsxs("div",{className:"space-y-4 px-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-semibold md:whitespace-nowrap md:flex-shrink-0",children:"Current status:"}),e.jsx("div",{className:"bg-primary-light p-4 rounded-lg shadow-lg w-full cursor-pointer hover:border hover:border-primary",onClick:l?()=>r("coreInformation","Current Status",a):void 0,children:e.jsx("div",{className:"w-full",children:e.jsx("p",{children:a})})})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg cursor-pointer hover:border hover:border-primary",onClick:l?()=>r("description","Bio",i,!0):void 0,children:e.jsx("p",{className:"whitespace-pre-line",children:i})})]})},ae=({size:s=24,color:r="currentColor",className:l="",strokeWidth:i=1.5,...a})=>{const t=s||24,n=`${l}`;return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,width:t,height:t,viewBox:"0 0 256 256",fill:"none",stroke:r,strokeWidth:i,strokeLinecap:"round",strokeLinejoin:"round",...a,children:e.jsx("path",{d:"M232,104v48a16.01833,16.01833,0,0,1-16,16H168v48a16.01833,16.01833,0,0,1-16,16H104a16.01833,16.01833,0,0,1-16-16V168H40a16.01833,16.01833,0,0,1-16-16V104A16.01833,16.01833,0,0,1,40,88H88V40a16.01833,16.01833,0,0,1,16-16h48a16.01833,16.01833,0,0,1,16,16V88h48A16.01833,16.01833,0,0,1,232,104Z",fill:"currentColor"})})},te=({size:s=24,color:r="currentColor",className:l="",strokeWidth:i=1.5,...a})=>{const t=s||24,n=`${l}`;return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,width:t,height:t,viewBox:"0 0 25 25",fill:"none",stroke:r,strokeWidth:i,strokeLinecap:"round",strokeLinejoin:"round",...a,children:e.jsx("path",{d:"M16.5562 12.9062L16.1007 13.359C16.1007 13.359 15.0181 14.4355 12.0631 11.4972C9.10812 8.55901 10.1907 7.48257 10.1907 7.48257L10.4775 7.19738C11.1841 6.49484 11.2507 5.36691 10.6342 4.54348L9.37326 2.85908C8.61028 1.83992 7.13596 1.70529 6.26145 2.57483L4.69185 4.13552C4.25823 4.56668 3.96765 5.12559 4.00289 5.74561C4.09304 7.33182 4.81071 10.7447 8.81536 14.7266C13.0621 18.9492 17.0468 19.117 18.6763 18.9651C19.1917 18.9171 19.6399 18.6546 20.0011 18.2954L21.4217 16.883C22.3806 15.9295 22.1102 14.2949 20.8833 13.628L18.9728 12.5894C18.1672 12.1515 17.1858 12.2801 16.5562 12.9062Z",fill:"currentColor"})})},ne=({user:s,userProfile:l,forceRefresh:i})=>{const{currentStable:a}=b(),{user:t}=c(),[o,d]=r.useState({isOpen:!1,field:"",label:"",value:"",multiline:!1}),m=null==l?void 0:l.userStableRole,u=(null==m?void 0:m.user)||s,x=y(u),h=String(t.id)===String(u.id),p=m?m.role:s.stableRoles?s.stableRoles[null==a?void 0:a.id]:s.role,g=v(p),[j,N]=r.useState(!1),[w,C]=r.useState(!1),k=null==u?void 0:u.emergencyContact,$=(e,s,r,l=!1)=>{d({isOpen:!0,field:e,label:s,value:r,multiline:l})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden lg:block lg:px-40 xl:px-60 pt-8",children:[e.jsxs("div",{className:"flex justify-between items-start ",children:[e.jsxs("div",{className:"flex flex-col relative group",children:[e.jsx("h1",{className:"text-3xl font-heading font-semibold",children:x}),e.jsx("p",{className:"text-sm text-gray",children:e.jsx("span",{children:g||"Member"})})]}),e.jsxs("div",{className:"flex flex-row gap-2 mr-5 mt-10",children:[u.phoneNumber&&e.jsxs("div",{className:"flex flex-col items-center relative group",children:[e.jsxs(M,{type:"secondary",className:"rounded-lg !border-primary flex flex-col max-h-20 min-h-19 min-w-25","aria-label":"Phone",children:[e.jsx(te,{className:"text-primary mb-1",size:20}),e.jsx("span",{className:"mt-1 mb-1 text-primary font-medium",children:u.phoneNumber})]}),e.jsx("span",{className:"mt-1 text-xs text-center text-primary",children:"Number"}),h&&e.jsx("button",{className:"absolute -right-2 -top-2 transition-opacity bg-primary-light rounded-full p-1",onClick:()=>$("phoneNumber","Phone Number",u.phoneNumber||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"flex flex-col items-center relative group",children:[e.jsxs(M,{type:"secondary",className:"rounded-lg !border-primary flex flex-col max-h-20 min-h-19 min-w-25","aria-label":"Emergency contact",children:[e.jsx(ae,{className:"text-primary mb-1",size:20}),e.jsx("span",{className:"mt-1 mb-1 text-primary font-medium",children:k})]}),e.jsx("span",{className:"mt-1 text-xs text-center text-primary",children:"Emergency contact"}),h&&e.jsx("button",{className:"absolute -right-2 -top-2 transition-opacity bg-primary-light rounded-full p-1",onClick:()=>$("emergencyContact","Contact",u.emergencyContact||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"flex flex-col items-center relative group",children:[e.jsx(M,{type:"secondary",className:"rounded-lg !border-primary flex flex-col opacity-40 max-h-20 min-h-19 min-w-25","aria-label":"Messenger",children:e.jsx(ee,{className:"text-primary mb-1",size:25})}),e.jsx("span",{className:"mt-1 text-xs text-center text-primary",children:"Messenger"})]})]})]}),e.jsx("div",{className:"relative mt-4 border-2 border-primary rounded-lg overflow-hidden flex justify-center bg-gradient-to-b from-primary-light to-white",children:e.jsx("div",{className:"w-full h-90 relative overflow-hidden ",children:e.jsx(n,{user:u,className:"w-full h-160 object-contain object-[center_40%]",size:"small",alt:`Profile of ${x}`})})})]}),e.jsxs("div",{className:"lg:hidden relative",children:[e.jsx("div",{className:"relative overflow-hidden",children:e.jsx("div",{className:"w-full h-90 sm:h-120 md:h-150 bg-gradient-to-b from-primary-light to-white",children:e.jsx(n,{user:u,className:"w-full h-full object-cover object-[center_25%]",size:"small",alt:`Profile of ${x}`})})}),e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-6 bg-background rounded-t-3xl -mt-8 relative z-10 border-light border-t-2",children:[e.jsxs("div",{className:"flex flex-col gap-1 relative group ",children:[e.jsx("h1",{className:"text-3xl font-heading font-semibold pr-8 ",children:x}),e.jsx("p",{className:"text-sm text-gray",children:e.jsx("span",{children:g||"Unknown user role"})})]}),e.jsxs("div",{className:"flex justify-start gap-2 mt-6 md:justify-center md:px-20",children:[e.jsxs("div",{className:"flex flex-col items-center w-full md:w-9/10 relative group",children:[e.jsx(M,{type:"secondary",className:"w-full h-13 md:h-12 !bg-primary-light !border-primary rounded-xl","aria-label":"Phone",onClick:()=>N(!j),children:j?e.jsx("span",{className:"text-sm text-primary font-medium",children:u.phoneNumber}):e.jsx(te,{className:"text-primary",size:30})}),e.jsx("span",{className:"mt-1 text-xs text-center text-primary",children:"Number"}),h&&e.jsx("button",{className:"absolute -right-1 -top-1 transition-opacity bg-white rounded-full p-1",onClick:()=>$("phoneNumber","Phone Number",u.phoneNumber||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"flex flex-col items-center w-full md:w-9/10 relative group",children:[e.jsx(M,{type:"secondary",className:"w-full h-13 md:h-12 !bg-primary-light !border-primary rounded-xl "+(k?"":"opacity-40"),"aria-label":"Emergency contact",onClick:()=>C(!w),disabled:!k,children:w&&k?e.jsx("span",{className:"text-sm text-primary font-medium",children:k}):e.jsx(ae,{className:"text-primary",size:30})}),e.jsx("span",{className:"mt-1 text-xs text-center text-primary",children:"Emergency contact"}),h&&e.jsx("button",{className:"absolute -right-1 -top-1 transition-opacity bg-white rounded-full p-1",onClick:()=>$("emergencyContact","Contact",u.emergencyContact||""),children:e.jsx(f,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("div",{className:"flex flex-col items-center w-full md:w-9/10 opacity-40",children:[e.jsx(M,{type:"secondary",className:"w-full h-13 md:h-12 !bg-primary-light !border-primary rounded-xl","aria-label":"Messenger",children:e.jsx(ee,{className:"text-primary",size:30})}),e.jsx("span",{className:"mt-1 text-xs text-center text-primary",children:"Messenger"})]})]})]})]}),e.jsx(G,{isOpen:o.isOpen,onClose:()=>{d({isOpen:!1,field:"",label:"",value:"",multiline:!1})},fieldName:o.field,fieldLabel:o.label,initialValue:o.value,userId:(null==u?void 0:u.userId)||(null==u?void 0:u.id),multiline:o.multiline,userData:u,refreshUserData:i})]})},oe=({activeTab:s,onChange:r})=>e.jsx("div",{className:"px-1 md:px-6 py-2 mb-4",children:e.jsxs("div",{className:"flex justify-evenly px-0 sm:px-10 md:px-20 relative",children:[e.jsxs("button",{className:"px-4 py-1 text-lg lg:text-xl lg:py-2 font-semibold relative "+("info"===s?"text-primary":"text-gray"),onClick:()=>r("info"),children:["About","info"===s&&e.jsx(i.div,{layoutId:"underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),e.jsxs("button",{className:"px-4 py-1 text-lg lg:text-xl lg:py-2 font-semibold relative "+("horses"===s?"text-primary":"text-gray"),onClick:()=>r("horses"),children:["Horses","horses"===s&&e.jsx(i.div,{layoutId:"underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]})});export{M as B,N as C,Q as H,U as L,ee as M,z as P,ne as U,j as a,w as b,B as c,D as d,X as e,J as f,se as g,W as h,V as i,F as j,E as k,oe as l,le as m};
